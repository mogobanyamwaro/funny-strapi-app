{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/douglas/Documents/my%20projects/dad-joke-frontend/src/app/components/MemeGenerator.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { useState, useRef, ChangeEvent } from \"react\";\nimport axios from \"axios\";\nimport html2canvas from \"html2canvas\";\n\nexport default function MemeGenerator() {\n  const [image, setImage] = useState<File | null>(null);\n  const [preview, setPreview] = useState<string | null>(null);\n  const [topText, setTopText] = useState<string>(\"\");\n  const [bottomText, setBottomText] = useState<string>(\"\");\n  const memeRef = useRef<HTMLDivElement | null>(null);\n\n  // Handle image upload\n  const handleImageUpload = (event: ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      setImage(file);\n      setPreview(URL.createObjectURL(file));\n    }\n  };\n\n  // Generate meme\n  const generateMeme = async () => {\n    if (!preview || !memeRef.current) return;\n\n    const canvas = await html2canvas(memeRef.current);\n    const memeImage = canvas.toDataURL(\"image/png\");\n\n    // Convert Data URL to Blob\n    const blob = await (await fetch(memeImage)).blob();\n\n    // Upload Meme to Strapi\n    const formData = new FormData();\n    formData.append(\"files\", blob, \"meme.png\");\n\n    try {\n      const uploadRes = await axios.post(\n        \"http://localhost:1337/api/upload\",\n        formData\n      );\n      const uploadedFile = uploadRes.data[0];\n\n      // Save Meme Data\n      await axios.post(\"http://localhost:1337/api/memes\", {\n        data: {\n          image: uploadedFile.url,\n          topText,\n          bottomText,\n        },\n      });\n\n      alert(\"Meme saved successfully!\");\n    } catch (error) {\n      console.error(\"Upload failed\", error);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center p-4 bg-gray-900 text-white min-h-screen\">\n      <h1 className=\"text-2xl font-bold mb-4\">Meme Generator</h1>\n\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={handleImageUpload}\n        className=\"mb-4 text-white\"\n      />\n\n      {preview && (\n        <div\n          ref={memeRef}\n          className=\"relative w-80 h-80 border-2 border-gray-600 bg-gray-800\"\n        >\n          <img\n            src={preview}\n            alt=\"Meme\"\n            className=\"w-full h-full object-cover\"\n          />\n          <p className=\"absolute top-2 left-1/2 transform -translate-x-1/2 bg-black text-white px-2 text-lg font-bold\">\n            {topText}\n          </p>\n          <p className=\"absolute bottom-2 left-1/2 transform -translate-x-1/2 bg-black text-white px-2 text-lg font-bold\">\n            {bottomText}\n          </p>\n        </div>\n      )}\n\n      <input\n        type=\"text\"\n        placeholder=\"Top Text\"\n        value={topText}\n        onChange={(e) => setTopText(e.target.value)}\n        className=\"mt-4 p-2 border border-gray-600 bg-gray-800 text-white w-64\"\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Bottom Text\"\n        value={bottomText}\n        onChange={(e) => setBottomText(e.target.value)}\n        className=\"mt-2 p-2 border border-gray-600 bg-gray-800 text-white w-64\"\n      />\n\n      <button\n        onClick={generateMeme}\n        className=\"mt-4 p-2 bg-blue-500 text-white rounded\"\n      >\n        Generate Meme\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,oDAAoD;;;;AACpD;AACA;AACA;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IACrD,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAyB;IAE9C,sBAAsB;IACtB,MAAM,oBAAoB,CAAC;QACzB,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QACpC,IAAI,MAAM;YACR,SAAS;YACT,WAAW,IAAI,eAAe,CAAC;QACjC;IACF;IAEA,gBAAgB;IAChB,MAAM,eAAe;QACnB,IAAI,CAAC,WAAW,CAAC,QAAQ,OAAO,EAAE;QAElC,MAAM,SAAS,MAAM,CAAA,GAAA,yJAAA,CAAA,UAAW,AAAD,EAAE,QAAQ,OAAO;QAChD,MAAM,YAAY,OAAO,SAAS,CAAC;QAEnC,2BAA2B;QAC3B,MAAM,OAAO,MAAM,CAAC,MAAM,MAAM,UAAU,EAAE,IAAI;QAEhD,wBAAwB;QACxB,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,SAAS,MAAM;QAE/B,IAAI;YACF,MAAM,YAAY,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAChC,oCACA;YAEF,MAAM,eAAe,UAAU,IAAI,CAAC,EAAE;YAEtC,iBAAiB;YACjB,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,mCAAmC;gBAClD,MAAM;oBACJ,OAAO,aAAa,GAAG;oBACvB;oBACA;gBACF;YACF;YAEA,MAAM;QACR,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB;QACjC;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,8OAAC;gBACC,MAAK;gBACL,QAAO;gBACP,UAAU;gBACV,WAAU;;;;;;YAGX,yBACC,8OAAC;gBACC,KAAK;gBACL,WAAU;;kCAEV,8OAAC;wBACC,KAAK;wBACL,KAAI;wBACJ,WAAU;;;;;;kCAEZ,8OAAC;wBAAE,WAAU;kCACV;;;;;;kCAEH,8OAAC;wBAAE,WAAU;kCACV;;;;;;;;;;;;0BAKP,8OAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gBAC1C,WAAU;;;;;;0BAEZ,8OAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gBAC7C,WAAU;;;;;;0BAGZ,8OAAC;gBACC,SAAS;gBACT,WAAU;0BACX;;;;;;;;;;;;AAKP","debugId":null}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file:///Users/douglas/Documents/my%20projects/dad-joke-frontend/src/app/meme-generator/page.tsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\nimport MemeGenerator from \"@/app/components/MemeGenerator\";\nfunction page() {\n  return <MemeGenerator />;\n}\n\nexport default page;\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAGA,SAAS;IACP,qBAAO,8OAAC,0IAAA,CAAA,UAAa;;;;;AACvB;uCAEe","debugId":null}}]
}